<div id="map" class="container"></div>

<script type="module">
  import { Map, SpatialReference, TileLayer } from "maptalks";

  const url =
    "https://t0.tianditu.gov.cn/vec_c/wmts?request=GetCapabilities&service=wmts&tk=6901643c38b65f1f9770196343cf72b2";

  SpatialReference.loadWMTS(url, (err, conf) => {
    if (err) {
      throw new Error(err);
    }
    const params = conf[0];
    params.urlTemplate += "&tk=6901643c38b65f1f9770196343cf72b2";
    let spatialReference = params.spatialReference;
    const tileLayer = new TileLayer("tilelayer", params);
    spatialReference = params.spatialReference;

    new Map("map", {
      center: [114.3404041441181, 30.548730054693106],
      zoom: 10,
      spatialReference: spatialReference,
      baseLayer: tileLayer,
    });
  });
</script>

<style>
  @import "https://maptalks.com/api/maptalks.css";
  @import "./index.css";
</style>
